# My Keymap for Planck Keyboard

## コンセプト

このキーマップのコンセプトは以下の通りです。

* Layer0 (default) は主に入力用
* Raise は主に記号用
* Lower は主に数字とファンクションキー用
* Nav はカーソルキー
* レイヤーの切り替えは親指で行う
* 親指でレイヤーキーを押している間だけ切り替える
 * つまり <kbd><kbd>Fn</kbd> + <kbd>Any</kbd></kbd> のような感覚
 * 基本的には常に Layer0 にいるので現在のレイヤーを意識する必要がない
* Gui キーと ~Nav キーによる日本語入力の切り替え
 * [Karabiner](https://pqrs.org/osx/karabiner/index.html.ja) などでよくやっているアレ


## レイアウト

```
/* Qwerty
 * ,-----------------------------------------------------------------------------------.
 * | Esc~ |   Q  |   W  |   E  |   R  |   T  |   Y  |   U  |   I  |   O  |   P  | Bksp |
 * |------+------+------+------+------+------+------+------+------+------+------+------|
 * |Tab/Ctl|A/Ctl|   S  |   D  |   F  |   G  |   H  |   J  |   K  |   L  | ;/Ctl|   "  |
 * |------+------+------+------+------+------+------+------+------+------+------+------|
 * | Shift|   Z  |   X  |   C  |   V  |   B  |   N  |   M  |   ,  |   .  |   /  |   \  |
 * |------+------+------+------+------+------+------+------+------+------+------+------|
 * | Ctrl | Alt  |      |半/GUI| Lower|Sht/Sp| Enter| Raise|全/NAV|      |      |      |
 * `-----------------------------------------------------------------------------------'
 */
```

* 左右小指位置を長押しで <kbd>Ctrl</kbd> になります。
* <kbd>~NAV</kbd> <kbd>Gui</kbd> のタップで <kbd>かな</kbd>/</kbd>英数</kbd> です。
* 省スペース化のためとレイアウトを崩さないように、左上のキーに <kbd>Esc</kbd> <kbd>~</kbd> <kbd>\`</kbd> をまとめています。修飾キーとの組み合わせで以下のようになります。

| 修飾キー | 出力 |
| :-: | :-: |
| なし | <kbd>Esc</kbd> |
| <kbd>Shift</kbd> | <kbd>~</kbd> |
| <kbd>~Raise</kbd> | <kbd>\`</kbd> |


```
/* Lower
 * ,-----------------------------------------------------------------------------------.
 * |   ~  |   !  |   @  |   #  |   $  |   %  |   ^  |   &  |   *  |   (  |   )  |      |
 * |------+------+------+------+------+------+------+------+------+------+------+------|
 * |   `  | 1/Ctl|   2  |   3  |   4  |   5  |   6  |   7  |   8  |   9  | 0/Ctl|      |
 * |------+------+------+------+------+------+------+------+------+------+------+------|
 * |      |  F1  |  F2  |  F3  |  F4  |  F5  |  F6  |  F7  |  F8  |  F9  |  F10 |  F11 |
 * |------+------+------+------+------+------+------+------+------+------+------+------|
 * |      |      |      |      |      |      |      |      |      |      |      |  F12 |
 * `-----------------------------------------------------------------------------------'
 */
```

 * 数字とファンクションキーを割り当てています


```
/* Raise
 * ,-----------------------------------------------------------------------------------.
 * |  `   |      |      |      |      |      |      |  {   |  }   |  _   |  +   |      |
 * |------+------+------+------+------+------+------+------+------+------+------+------|
 * |      |      |      |      |      | HOME | PGUP |  [   |  ]   |  -   |  =   |      |
 * |------+------+------+------+------+------+------+------+------+------+------+------|
 * |      |      |      |      |      | END  | PGDN |      |      |      |      |      |
 * |------+------+------+------+------+------+------+------+------+------+------+------|
 * |      |      |      |      |      |      |      |      |      |      |      |      |
 * `-----------------------------------------------------------------------------------'
 */
```

 * いくつかの記号を割り当てています


```
/* Navigation
 * ,-----------------------------------------+-----------------------------------------.
 * |      |      |      |      |      |      |      |      |  Up  |      |      |      |
 * |------+------+------+------+------+------+------+------+------+------+------+------|
 * |      |      |      |      |      |      |      | Left | Down | Right|      |      |
 * |------+------+------+------+------+------+------+------+------+------+------+------|
 * |      |      |      |      |      |      |      |      |      |      |      |      |
 * |------+------+------+------+------+------+------+------+------+------+------+------|
 * |      |      |      |      |      |      |      |      |      |      |      |      |
 * `-----------------------------------------+-----------------------------------------'
 */
```

* カーソルキーを割り当てています


```
/* Adjust (Lower + Raise)
 * ,-----------------------------------------------------------------------------------.
 * |      | Reset|      |      |      |      |      |      |      |      |      |  Del |
 * |------+------+------+------+------+-------------+------+------+------+------+------|
 * |      |      |      |Aud on|Audoff|AGnorm|AGswap|      |      |      |      |      |
 * |------+------+------+------+------+------|------+------+------+------+------+------|
 * |      |Voice-|Voice+|Mus on|Musoff|MIDIon|MIDIof|      |      |      |      |      |
 * |------+------+------+------+------+------+------+------+------+------+------+------|
 * |      |      |      |      |      |             |      |      |      |      |      |
 * `-----------------------------------------------------------------------------------'
 */
```

* Reset はファームウェアの書き換え用です。


## 準備

1. [qmk_firmware](https://github.com/qmk/qmk_firmware) を git clone する
1. 当リポジトリを git clone する
 * 以下、clone 先は my_keymap とする
 * /path/to/qmk_firmware/keyboards/planck/keymaps/my_keymap


## ビルド

docker でビルドして、[QMK Flasher](https://github.com/qmk/qmk_flasher) などで書き込むのが簡単だと思います。

docker でビルドする場合は以下のようにします。

```
$ cd qmk_firmware
$ docker run -e keyboard=planck -e subproject=rev5 -e keymap=my_keymap --rm -v $('pwd'):/qmk:rw jackhumbert/qmk_firmware make
```

これで planck_rev5_my_keymap.hex が出来上がります。


## 開発環境

* Macbook Pro
 * macOS High Sierra 
* Planck Keyboard





